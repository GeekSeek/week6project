<<<<<<< HEAD
{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var geek = {};\ngeek.agency = '';\ngeek.sortResults = '';\n\ngeek.apiURL = 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2'\n\n// On submit, grab city from user input text field\n// Pass city into Indeed ajax call\n\ngeek.getInput = function(){\n\t$('#firstSearch').on('submit', function(e){\n\t\te.preventDefault();\n\t\tgeek.userCity = $('input[name=\"userCity\"]').val();\n\t\t// console.log(geek.userCity);\n\t\tgeek.makeCall(geek.userCity);\n    // geek.makeSortedCall(geek.userCity);\n    $('header').slideUp(1000);\n\t   });\n}\n\n// FIRST ajax call\n\ngeek.makeCall = function(cityName){\n\t$.ajax({\n    url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n    method: 'GET',\n    dataType: 'jsonp',\n    data: {\n    \tformat: 'json',\n      l: geek.userCity,\n      q:'junior front-end developer',\n      co:'CA',\n      psf: 'advsrch',\n      as_phr: '',\n      fromage: '30',\n      limit:'10',\n      sort: 'date',\n      highlight: 0,\n      salary:'',\n      as_not:'',\n      as_ttl:'',\n      as_cmp:'',\n      jt: 'all',\n      st: '',\n      radius: '50',\n      sr: 'directhire',\n      expired:'false',\n      as_and:'',\n      as_any:'HTML+CSS+JavaScript'\n    }\n  }).then(function(data){\n    geek.fullObject = data;\n    // console.log(data);\n    geek.displayResults(data.results);\n    $('.resultsNum').text('There are ' + data.totalResults + ' job postings in your area.');\n  });\n}\n\ngeek.displayButton = function(){\n  if (geek.fullObject.totalResults < 10) {\n    $('#loadMore').hide();\n  } else {\n    $('#loadMore').show();\n  }\n}\n\n// Display results in handlebar template\ngeek.displayResults = function(results) {\n  var resultsHtml = $('#resultListTemplate').html();\n  // var resultsTemplate = Handlebars.compile(resultsHtml);\n  // var resSnippet = results.snippet;\n  console.log(results);\n  // if (geek.fullObject.totalResults < 10) {\n  //   $('#loadMore').hide();\n  // } else {\n  //   $('#loadMore').show();\n  // }\n  results.forEach(function(jobPost) {\n    // $('section.results .listContainer').append(resultsTemplate(jobPost));\n    // console.log(jobPost);\n    var skillsList = $('<ul>').addClass('skillsList');\n     if (/HTML/i.test(jobPost.snippet)){\n      var skillHTML = $('<li>').addClass('skill').text('HTML');\n       skillsList.append(skillHTML);\n     }\n\n     if (/CSS/i.test(jobPost.snippet)){\n      var skillCSS = $('<li>').addClass('skill').text('CSS');\n      skillsList.append(skillCSS);\n     }\n\n     if (/Ember/i.test(jobPost.snippet)){\n      var skillEmber = $('<li>').addClass('skill').text('Ember');\n      skillsList.append(skillEmber);\n     }\n\n     if (/JavaScript/i.test(jobPost.snippet)){\n      var skillJavaScript = $('<li>').addClass('skill').text('JavaScript');\n       skillsList.append(skillJavaScript);\n     }\n\n     if (/UX/i.test(jobPost.snippet)){\n      var skillUX = $('<li>').addClass('skill').text('UX');\n       skillsList.append(skillUX);\n     }\n\n     if (/Design/i.test(jobPost.snippet)){\n      var skillDesign = $('<li>').addClass('skill').text('Design');\n       skillsList.append(skillDesign);\n     }\n\n     if (/Backend/i.test(jobPost.snippet)){\n      var skillBackend = $('<li>').addClass('skill').text('Back-end');\n       skillsList.append(skillBackend);\n     }\n\n     if (/SASS/i.test(jobPost.snippet)){\n      var skillSASS = $('<li>').addClass('skill').text('SASS');\n       skillsList.append(skillSASS);\n     }\n\n    // var tagButtonContainer = $('<div>').addClass('tagButtonContainer').append(skill, link);\n    \n    // var snippet = $('<p>').addClass('snippet').text(jobPost.snippet);\n    // var item = $('<li>').append(snippet);\n    // var longDesc = $('<div>').addClass('longDesc').append(snippet, tagButtonContainer);\n    // $('.tagButtonContainer').append(skill, link);\n    // $('.resultList').append(item, tagButtonContainer);\n\n    //append a list to resultList wrapper\n\n    var link = $('<a>').attr('href', jobPost.url).text('Apply');\n    var tagButtonContainer = $('<div>').addClass('tagButtonContainer').append(skillsList, link);\n\n    var snippet = $('<p>').addClass('snippet').text(jobPost.snippet);\n    var longDesc = $('<div>').addClass('longDesc').append(snippet, tagButtonContainer);\n\n    var fromage = $('<h4>').addClass('fromage').text(jobPost.formattedRelativeTime);\n    var location = $('<h4>').addClass('location').text(jobPost.formattedLocationFull);\n    var company = $('<h4>').addClass('company').text(jobPost.company);\n    var jobTitle = $('<h4>').addClass('jobTitle').text(jobPost.jobtitle);\n    var shortDesc = $('<div>').addClass('shortDesc').append(jobTitle, company, location, fromage);\n    \n    var listItem = $('<li>').addClass('jobPosting').append(shortDesc, longDesc);\n    $('.resultList').append(listItem);\n\n  });\n  $('#userCity2').attr('value', geek.userCity);\n};\n\n\n$('#secondSearch').on('submit', function(e) {\n  e.preventDefault();\n  geek.userCity = $('#userCity2').val();\n  if ($('#agency').is(\":checked\")) {\n    geek.agency = 'employer';\n  } else {\n    geek.agency = '';\n  };\n  if ($(\"#sort\").is(\":checked\")) {\n    geek.sortResults = 'date';\n  } else {\n    geek.sortResults = '';\n  };\n  console.log(geek.userCity);\n  // make a call that will display the results sorted by date posted instead of relevance\n    $.ajax({\n      url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n      method: 'GET',\n      dataType: 'jsonp',\n      data: {\n        format: 'json',\n        l: geek.userCity,\n        q:'junior front-end developer',\n        co:'CA',\n        psf: 'advsrch',\n        as_phr: '',\n        sort: geek.sortResults,\n        fromage: '30',\n        highlight: 0,\n        limit:'10',\n        salary:'',\n        as_not:'',\n        as_ttl:'',\n        as_cmp:'',\n        jt: 'all',\n        st: '',\n        radius: '50',\n        sr: geek.agency,\n        expired:'false',\n        as_and:'',\n        as_any:'HTML+CSS+JavaScript'\n      }\n    }).then(function(sortedData){\n      console.log(sortedData);\n      console.log(geek.agency);\n      console.log(geek.sortResults);\n      geek.filterResults(sortedData.objects);\n  });\n});\n\n\n//make a call with staffing agencies included. Default search will only include direct hires\n\n\ngeek.filterResults = function(sortedData) {\n  console.log('works!');\n}\n\n// SECOND ajax call\n\n$('#loadMore').on('click', function(e){\n  e.preventDefault();\n  var listSection = $(this).attr('value');\n  var stringAsNumber = parseInt(listSection);\n  var newSearch = stringAsNumber + 10;\n    $.ajax({\n    url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n    method: 'GET',\n    dataType: 'jsonp',\n    data: {\n      format: 'json',\n      l: geek.userCity,\n      q:'junior front-end developer',\n      co:'CA',\n      psf: 'advsrch',\n      as_phr: '',\n      sort: geek.sortResults,\n      fromage: '30',\n      limit:'10',\n      highlight:0,\n      start: listSection,\n      salary:'',\n      as_not:'',\n      as_ttl:'',\n      as_cmp:'',\n      jt: 'all',\n      st: geek.agency,\n      radius: '50',\n      sr: '',\n      expired:'false',\n      as_and:'',\n      as_any:'HTML+CSS+JavaScript'\n    }\n  }).then(function(data){\n    geek.fullObject = data;\n    console.log(data);\n    $('#loadMore').attr('value', newSearch);\n    geek.hideButton(newSearch);\n  });\n});\n\ngeek.hideButton = function(newSearch) {\n  console.log(newSearch);\n  if (geek.fullObject.totalResults < newSearch) {\n      $('#loadMore').hide();\n    } else {\n      $('#loadMore').show();\n    }\n   geek.displayMoreResults(geek.fullObject.results);\n}\n\ngeek.displayMoreResults = function(results) {\n  // var resultsHtml = $('#resultListTemplate').html();\n  // var resultsTemplate = Handlebars.compile(resultsHtml);\n  console.log(results);\n  $('.resultList').empty();\n  geek.displayResults(results);\n  // results.forEach(function(jobPost) {\n    // console.log(jobPost);\n    // $('section.results .listContainer').append(resultsTemplate(jobPost));\n  // });\n  $('html, body').animate ({\n    scrollTop: $(\"#results\").offset().top - 140},1000);\n}\n\n\n// Geolocate user's current location. Pass coordinates into getGoogle ajax call to return city and province\n\nvar gps = navigator.geolocation.getCurrentPosition(\n function (position) {\n  var lat = position.coords.latitude;\n  var lng = position.coords.longitude;\n  position = (lat + ', ' + lng);\n  console.log(position);\n  geek.getGoogle(position);\n   });\n\ngeek.getGoogle = function (query){\n  $.ajax({\n    url:\"https://maps.googleapis.com/maps/api/geocode/json\",\n    type:'GET',\n    dataType:'json',\n    data: {\n      latlng: query\n    }\n    }).then(function(answer){\n        var autoCity = answer.results[0].address_components[4].long_name;\n        var autoProv = answer.results[0].address_components[6].short_name;\n      console.log(answer);\n      console.log(autoProv);\n      // Auto-populate city and province into user input field\n      $('#userCity').attr(\"value\", autoCity + \", \" + autoProv);\n  });\n}\n\n\n$(document).ready(function(){\n  geek.getInput();\n})"],"sourceRoot":"/source/"}
=======
{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var geek = {};\ngeek.agency = '';\ngeek.sortResults = '';\n\ngeek.apiURL = 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2'\n\n// On submit, grab city from user input text field\n// Pass city into Indeed ajax call\n\ngeek.getInput = function(){\n\t$('#firstSearch').on('submit', function(e){\n\t\te.preventDefault();\n\t\tgeek.userCity = $('input[name=\"userCity\"]').val();\n\t\t// console.log(geek.userCity);\n\t\tgeek.makeCall(geek.userCity);\n    // geek.makeSortedCall(geek.userCity);\n    $('header').slideUp(1000);\n\t   });\n}\n\n// FIRST ajax call\n\ngeek.makeCall = function(cityName){\n\t$.ajax({\n    url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n    method: 'GET',\n    dataType: 'jsonp',\n    data: {\n    \tformat: 'json',\n      l: geek.userCity,\n      q:'junior front-end developer',\n      co:'CA',\n      psf: 'advsrch',\n      as_phr: '',\n      fromage: '30',\n      limit:'10',\n      sort: '',\n      highlight: 0,\n      salary:'',\n      as_not:'',\n      as_ttl:'',\n      as_cmp:'',\n      jt: 'all',\n      st: '',\n      radius: '50',\n      expired:'false',\n      as_and:'',\n      as_any:'HTML+CSS+JavaScript'\n    }\n  }).then(function(data){\n    geek.totalResults = data.totalResults;\n    // console.log(data);\n    geek.displayResults(data.results);\n  });\n}\n\ngeek.displayButton = function(){\n  if (geek.totalResults < 10) {\n    $('#loadMore').hide();\n  } else {\n    $('#loadMore').show();\n  }\n}\n\n// Display results in handlebar template\ngeek.displayResults = function(results) {\n  // var resultsHtml = $('#resultListTemplate').html();\n  // var resultsTemplate = Handlebars.compile(resultsHtml);\n  // var resSnippet = results.snippet;\n  console.log(results);\n  $('.resultsNum').text('There are ' + geek.totalResults + ' job postings in your area.');\n  // if (geek.fullObject.totalResults < 10) {\n  //   $('#loadMore').hide();\n  // } else {\n  //   $('#loadMore').show();\n  // }\n  results.forEach(function(jobPost) {\n    // $('section.results .listContainer').append(resultsTemplate(jobPost));\n    // console.log(jobPost);\n    var skillsList = $('<ul>').addClass('skillsList');\n     if (/HTML/i.test(jobPost.snippet)){\n      var skillHTML = $('<li>').addClass('skill').text('HTML');\n       skillsList.append(skillHTML);\n     }\n\n     if (/CSS/i.test(jobPost.snippet)){\n      var skillCSS = $('<li>').addClass('skill').text('CSS');\n      skillsList.append(skillCSS);\n     }\n\n     if (/Ember/i.test(jobPost.snippet)){\n      var skillEmber = $('<li>').addClass('skill').text('Ember');\n      skillsList.append(skillEmber);\n     }\n\n     if (/JavaScript/i.test(jobPost.snippet)){\n      var skillJavaScript = $('<li>').addClass('skill').text('JavaScript');\n       skillsList.append(skillJavaScript);\n     }\n\n     if (/UX/i.test(jobPost.snippet)){\n      var skillUX = $('<li>').addClass('skill').text('UX');\n       skillsList.append(skillUX);\n     }\n\n     if (/Design/i.test(jobPost.snippet)){\n      var skillDesign = $('<li>').addClass('skill').text('Design');\n       skillsList.append(skillDesign);\n     }\n\n     if (/Backend/i.test(jobPost.snippet)){\n      var skillBackend = $('<li>').addClass('skill').text('Back-end');\n       skillsList.append(skillBackend);\n     }\n\n     if (/SASS/i.test(jobPost.snippet)){\n      var skillSASS = $('<li>').addClass('skill').text('SASS');\n       skillsList.append(skillSASS);\n     }\n\n     if (/Angular/i.test(jobPost.snippet)){\n      var skillAngular = $('<li>').addClass('skill').text('Angular');\n       skillsList.append(skillAngular);\n     }\n\n     if (/Software/i.test(jobPost.snippet)){\n      var skillSoftware = $('<li>').addClass('skill').text('Software');\n       skillsList.append(skillSoftware);\n     }\n\n     if (/Agile/i.test(jobPost.snippet)){\n      var skillAgile = $('<li>').addClass('skill').text('Agile');\n       skillsList.append(skillAgile);\n     }\n\n     if (/Front(.*?)End/i.test(jobPost.snippet)){\n      var skillFront = $('<li>').addClass('skill').text('Front End');\n       skillsList.append(skillFront);\n     }\n\n    // var tagButtonContainer = $('<div>').addClass('tagButtonContainer').append(skill, link);\n    \n    // var snippet = $('<p>').addClass('snippet').text(jobPost.snippet);\n    // var item = $('<li>').append(snippet);\n    // var longDesc = $('<div>').addClass('longDesc').append(snippet, tagButtonContainer);\n    // $('.tagButtonContainer').append(skill, link);\n    // $('.resultList').append(item, tagButtonContainer);\n\n    //append a list to resultList wrapper\n\n    var link = $('<a>').attr('href', jobPost.url).text('Apply');\n    var tagButtonContainer = $('<div>').addClass('tagButtonContainer').append(skillsList, link);\n\n    var snippet = $('<p>').addClass('snippet').html(jobPost.snippet);\n    var longDesc = $('<div>').addClass('longDesc').append(snippet, tagButtonContainer);\n\n    var fromage = $('<h4>').addClass('fromage').text(jobPost.formattedRelativeTime);\n    var location = $('<h4>').addClass('location').text(jobPost.formattedLocationFull);\n    var company = $('<h4>').addClass('company').text(jobPost.company);\n    var jobTitle = $('<h4>').addClass('jobTitle').text(jobPost.jobtitle);\n    var shortDesc = $('<div>').addClass('shortDesc').append(jobTitle, company, location, fromage);\n    \n    var listItem = $('<li>').addClass('jobPosting').append(shortDesc, longDesc);\n    $('.resultList').append(listItem);\n\n  });\n  $('#userCity2').attr('value', geek.userCity);\n};\n\n\n$('#secondSearch').on('submit', function(e) {\n  e.preventDefault();\n  geek.userCity = $('#userCity2').val();\n  if ($('#agency').is(\":checked\")) {\n    geek.agency = 'employer';\n  } else {\n    geek.agency = '';\n  };\n  if ($(\"#sort\").is(\":checked\")) {\n    geek.sortResults = 'date';\n  } else {\n    geek.sortResults = '';\n  };\n  console.log(geek.userCity);\n  // make a call that will display the results sorted by date posted instead of relevance\n    $.ajax({\n      url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n      method: 'GET',\n      dataType: 'jsonp',\n      data: {\n        format: 'json',\n        l: geek.userCity,\n        q:'junior front-end developer',\n        co:'CA',\n        psf: 'advsrch',\n        as_phr: '',\n        sort: geek.sortResults,\n        fromage: '30',\n        highlight: 0,\n        limit:'10',\n        salary:'',\n        as_not:'',\n        as_ttl:'',\n        as_cmp:'',\n        jt: 'all',\n        st: geek.agency,\n        radius: '50',\n        expired:'false',\n        as_and:'',\n        as_any:'HTML+CSS+JavaScript'\n      }\n    }).then(function(sortedData){\n      console.log(sortedData);\n      console.log(geek.agency);\n      console.log(geek.sortResults);\n      geek.totalResults = sortedData.totalResults;\n      $('.resultList').empty();\n      geek.displayResults(sortedData.results);\n      console.log(sortedData.totalResults);\n      geek.displayButton();\n  });\n});\n\n\n// SECOND ajax call\n\n$('#loadMore').on('click', function(e){\n  e.preventDefault();\n  var listSection = $(this).attr('value');\n  var stringAsNumber = parseInt(listSection);\n  var newSearch = stringAsNumber + 10;\n    $.ajax({\n    url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n    method: 'GET',\n    dataType: 'jsonp',\n    data: {\n      format: 'json',\n      l: geek.userCity,\n      q:'junior front-end developer',\n      co:'CA',\n      psf: 'advsrch',\n      as_phr: '',\n      sort: geek.sortResults,\n      fromage: '30',\n      limit:'10',\n      highlight:0,\n      start: listSection,\n      salary:'',\n      as_not:'',\n      as_ttl:'',\n      as_cmp:'',\n      jt: 'all',\n      st: geek.agency,\n      radius: '50',\n      sr: '',\n      expired:'false',\n      as_and:'',\n      as_any:'HTML+CSS+JavaScript'\n    }\n  }).then(function(data){\n    geek.totalResults = data.totalResults;\n    console.log(data);\n    $('#loadMore').attr('value', newSearch);\n    geek.displayMoreResults(data.results);\n    geek.hideButton(newSearch);\n  });\n});\n\ngeek.hideButton = function(newSearch) {\n  console.log(newSearch);\n  if (geek.totalResults < newSearch) {\n      $('#loadMore').hide();\n    } else {\n      $('#loadMore').show();\n    }\n}\n\ngeek.displayMoreResults = function(results) {\n  // var resultsHtml = $('#resultListTemplate').html();\n  // var resultsTemplate = Handlebars.compile(resultsHtml);\n  console.log(results);\n  $('.resultList').empty();\n  geek.displayResults(results);\n  // results.forEach(function(jobPost) {\n    // console.log(jobPost);\n    // $('section.results .listContainer').append(resultsTemplate(jobPost));\n  // });\n  $('html, body').animate ({\n    scrollTop: $(\"#results\").offset().top - 140},1000);\n}\n\n\n// Geolocate user's current location. Pass coordinates into getGoogle ajax call to return city and province\n\nvar gps = navigator.geolocation.getCurrentPosition(\n function (position) {\n  var lat = position.coords.latitude;\n  var lng = position.coords.longitude;\n  position = (lat + ', ' + lng);\n  console.log(position);\n  geek.getGoogle(position);\n   });\n\ngeek.getGoogle = function (query){\n  $.ajax({\n    url:\"https://maps.googleapis.com/maps/api/geocode/json\",\n    type:'GET',\n    dataType:'json',\n    data: {\n      latlng: query\n    }\n    }).then(function(answer){\n        var autoCity = answer.results[0].address_components[4].long_name;\n        var autoProv = answer.results[0].address_components[6].short_name;\n      console.log(answer);\n      console.log(autoProv);\n      // Auto-populate city and province into user input field\n      $('#userCity').attr(\"value\", autoCity + \", \" + autoProv);\n  });\n}\n\n\n$(document).ready(function(){\n  geek.getInput();\n})"],"sourceRoot":"/source/"}
>>>>>>> 54ae743f6e617015ff559135b78aeea257a70b85
