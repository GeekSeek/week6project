{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var geek = {};\ngeek.agency = '';\ngeek.sortResults = '';\n\ngeek.apiURL = 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2'\n\n// On submit, grab city from user input text field\n// Pass city into Indeed ajax call\n\ngeek.getInput = function(){\n\t$('#firstSearch').on('submit', function(e){\n\t\te.preventDefault();\n\t\tgeek.userCity = $('input[name=\"userCity\"]').val();\n\t\tconsole.log(geek.userCity);\n\t\tgeek.makeCall(geek.userCity);\n    // geek.makeSortedCall(geek.userCity);\n    $('header').slideUp(1000);\n\t   });\n}\n\n// FIRST ajax call\n\ngeek.makeCall = function(cityName){\n\t$.ajax({\n    url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n    method: 'GET',\n    dataType: 'jsonp',\n    data: {\n    \tformat: 'json',\n      l: geek.userCity,\n      q:'junior front-end developer',\n      co:'CA',\n      psf: 'advsrch',\n      as_phr: '',\n      fromage: '30',\n      limit:'10',\n      sort: 'date',\n      highlight: 0,\n      salary:'',\n      as_not:'',\n      as_ttl:'',\n      as_cmp:'',\n      jt: 'all',\n      st: '',\n      radius: '50',\n      sr: 'directhire',\n      expired:'false',\n      as_and:'',\n      as_any:'HTML+CSS+JavaScript'\n    }\n  }).then(function(data){\n    geek.fullObject = data;\n  \tconsole.log(data.results);\n    geek.displayResults(data.results);\n  });\n}\n\n// Display results in handlebar template\ngeek.displayResults = function(results) {\n  var resultsHtml = $('#resultListTemplate').html();\n  var resultsTemplate = Handlebars.compile(resultsHtml);\n  // var resSnippet = results.snippet;\n  console.log(results);\n  if (geek.fullObject.totalResults < 10) {\n    $('#loadMore').hide();\n  } else {\n    $('#loadMore').show();\n  }\n  results.forEach(function(jobPost) {\n    // $('section.results .listContainer').append(resultsTemplate(jobPost));\n    var skill = $('<ul>').addClass('skill-list');\n     if (/HTML/i.test(jobPost.snippet)){\n       skill.append(\"<li>HTML</li>\")\n     }\n\n     if (/CSS/i.test(jobPost.snippet)){\n       skill.append(\"<li>CSS</li>\")\n     }\n\n     if (/Ember/i.test(jobPost.snippet)){\n       skill.append(\"<li>Ember</li>\")\n     }\n\n    var tagButtonContainer = $('<div>').addClass('tagButtonContainer');\n    var link = $('<a>').attr('href', '\"' + jobPost.url + '\"');\n    var snippet = $('<p>').addClass('snippet').text(jobPost.snippet);\n    var item = $('<article>').append(snippet);\n    $('.tagButtonContainer').append(skill, link);\n    $('section.results .listContainer').append(item, tagButtonContainer);\n\n    // var artist = $('<p>').addClass('artist').text(art.principalOrFirstMaker);\n\n\n\n\n    \n    //if description contains HTML append li with HTML to ul.skillslist\n    // console.log(description);\n\n\n  });\n  $('#userCity2').attr('value', geek.userCity);\n};\n\n$('#secondSearch').on('submit', function(e) {\n  e.preventDefault();\n  geek.userCity = $('#userCity2').val();\n  if ($('#agency').is(\":checked\")) {\n    geek.agency = 'employer';\n  } else {\n    geek.agency = '';\n  };\n  if ($(\"#sort\").is(\":checked\")) {\n    geek.sortResults = 'date';\n  } else {\n    geek.sortResults = '';\n  };\n  console.log(geek.userCity);\n  // make a call that will display the results sorted by date posted instead of relevance\n    $.ajax({\n      url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n      method: 'GET',\n      dataType: 'jsonp',\n      data: {\n        format: 'json',\n        l: geek.userCity,\n        q:'junior front-end developer',\n        co:'CA',\n        psf: 'advsrch',\n        as_phr: '',\n        sort: geek.sortResults,\n        fromage: '30',\n        limit:'10',\n        salary:'',\n        as_not:'',\n        as_ttl:'',\n        as_cmp:'',\n        jt: 'all',\n        st: '',\n        radius: '50',\n        sr: geek.agency,\n        expired:'false',\n        as_and:'',\n        as_any:'HTML+CSS+JavaScript'\n      }\n    }).then(function(sortedData){\n      console.log(sortedData);\n      console.log(geek.agency);\n      console.log(geek.sortResults);\n      geek.filterResults(sortedData.objects);\n  });\n});\n\n\n//make a call with staffing agencies included. Default search will only include direct hires\n\n\ngeek.filterResults = function(sortedData) {\n  console.log('works!');\n}\n\n// SECOND ajax call\n\n$('#loadMore').on('click', function(e){\n  e.preventDefault();\n  var listSection = $(this).attr('value');\n  var stringAsNumber = parseInt(listSection);\n  var newSearch = stringAsNumber + 10;\n    $.ajax({\n    url: 'http://api.indeed.com/ads/apisearch?publisher=6808461958676807&v=2',\n    method: 'GET',\n    dataType: 'jsonp',\n    data: {\n      format: 'json',\n      l: geek.userCity,\n      q:'junior front-end developer',\n      co:'CA',\n      psf: 'advsrch',\n      as_phr: '',\n      sort: geek.sortResults,\n      fromage: '30',\n      limit:'10',\n      start: listSection,\n      salary:'',\n      as_not:'',\n      as_ttl:'',\n      as_cmp:'',\n      jt: 'all',\n      st: geek.agency,\n      radius: '50',\n      sr: '',\n      expired:'false',\n      as_and:'',\n      as_any:'HTML+CSS+JavaScript'\n    }\n  }).then(function(data){\n    geek.fullObject = data;\n    console.log(data);\n    $('#loadMore').attr('value', newSearch);\n    geek.hideButton(newSearch);\n  });\n});\n\ngeek.hideButton = function(newSearch) {\n  console.log(newSearch);\n  if (geek.fullObject.totalResults < newSearch) {\n      $('#loadMore').hide();\n    } else {\n      $('#loadMore').show();\n    }\n   geek.displayMoreResults(geek.fullObject.results);\n}\n\ngeek.displayMoreResults = function(results) {\n  var resultsHtml = $('#resultListTemplate').html();\n  var resultsTemplate = Handlebars.compile(resultsHtml);\n  $('section.results .listContainer').empty();\n  results.forEach(function(jobPost) {\n    // console.log(jobPost);\n    $('section.results .listContainer').append(resultsTemplate(jobPost));\n  });\n  $('html, body').animate ({\n    scrollTop: $(\"#results\").offset().top},1000);\n}\n\n\n// Geolocate user's current location. Pass coordinates into getGoogle ajax call to return city and province\n\nvar gps = navigator.geolocation.getCurrentPosition(\n function (position) {\n  var lat = position.coords.latitude;\n  var lng = position.coords.longitude;\n  position = (lat + ', ' + lng);\n  console.log(position);\n  geek.getGoogle(position);\n   });\n\ngeek.getGoogle = function (query){\n  $.ajax({\n    url:\"https://maps.googleapis.com/maps/api/geocode/json\",\n    type:'GET',\n    dataType:'json',\n    data: {\n      latlng: query\n    }\n    }).then(function(answer){\n        var autoCity = answer.results[0].address_components[4].long_name;\n        var autoProv = answer.results[0].address_components[6].short_name;\n      console.log(answer);\n      console.log(autoProv);\n      // Auto-populate city and province into user input field\n      $('#userCity').attr(\"value\", autoCity + \", \" + autoProv);\n  });\n}\n\n\n$(document).ready(function(){\n  geek.getInput();\n})"],"sourceRoot":"/source/"}